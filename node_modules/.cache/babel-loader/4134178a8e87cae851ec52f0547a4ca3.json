{"ast":null,"code":"/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __spreadArray } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Classes, Keys, refHandler, setRef, Utils } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Icon, IconSize } from \"../icon/icon\";\nimport { Tag } from \"../tag/tag\";\n/** special value for absence of active tag */\n\nvar NONE = -1;\n\nvar TagInput =\n/** @class */\nfunction (_super) {\n  __extends(TagInput, _super);\n\n  function TagInput() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      activeIndex: NONE,\n      inputValue: _this.props.inputValue || \"\",\n      isInputFocused: false\n    };\n    _this.inputElement = null;\n    _this.handleRef = refHandler(_this, \"inputElement\", _this.props.inputRef);\n\n    _this.addTags = function (value, method) {\n      if (method === void 0) {\n        method = \"default\";\n      }\n\n      var _a = _this.props,\n          inputValue = _a.inputValue,\n          onAdd = _a.onAdd,\n          onChange = _a.onChange,\n          values = _a.values;\n\n      var newValues = _this.getValues(value);\n\n      var shouldClearInput = (onAdd === null || onAdd === void 0 ? void 0 : onAdd(newValues, method)) !== false && inputValue === undefined; // avoid a potentially expensive computation if this prop is omitted\n\n      if (Utils.isFunction(onChange)) {\n        shouldClearInput = onChange(__spreadArray(__spreadArray([], values, true), newValues, true)) !== false && shouldClearInput;\n      } // only explicit return false cancels text clearing\n\n\n      if (shouldClearInput) {\n        _this.setState({\n          inputValue: \"\"\n        });\n      }\n    };\n\n    _this.maybeRenderTag = function (tag, index) {\n      if (!tag) {\n        return null;\n      }\n\n      var _a = _this.props,\n          large = _a.large,\n          tagProps = _a.tagProps;\n      var props = Utils.isFunction(tagProps) ? tagProps(tag, index) : tagProps;\n      return React.createElement(Tag, __assign({\n        active: index === _this.state.activeIndex,\n        \"data-tag-index\": index,\n        key: tag + \"__\" + index,\n        large: large,\n        onRemove: _this.props.disabled ? undefined : _this.handleRemoveTag\n      }, props), tag);\n    };\n\n    _this.handleContainerClick = function () {\n      var _a;\n\n      (_a = _this.inputElement) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n\n    _this.handleContainerBlur = function (_a) {\n      var currentTarget = _a.currentTarget;\n\n      _this.requestAnimationFrame(function () {\n        // we only care if the blur event is leaving the container.\n        // defer this check using rAF so activeElement will have updated.\n        if (!currentTarget.contains(document.activeElement)) {\n          if (_this.props.addOnBlur && _this.state.inputValue !== undefined && _this.state.inputValue.length > 0) {\n            _this.addTags(_this.state.inputValue, \"blur\");\n          }\n\n          _this.setState({\n            activeIndex: NONE,\n            isInputFocused: false\n          });\n        }\n      });\n    };\n\n    _this.handleInputFocus = function (event) {\n      var _a, _b;\n\n      _this.setState({\n        isInputFocused: true\n      });\n\n      (_b = (_a = _this.props.inputProps) === null || _a === void 0 ? void 0 : _a.onFocus) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    };\n\n    _this.handleInputChange = function (event) {\n      var _a, _b, _c, _d;\n\n      _this.setState({\n        activeIndex: NONE,\n        inputValue: event.currentTarget.value\n      });\n\n      (_b = (_a = _this.props).onInputChange) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n      (_d = (_c = _this.props.inputProps) === null || _c === void 0 ? void 0 : _c.onChange) === null || _d === void 0 ? void 0 : _d.call(_c, event);\n    };\n\n    _this.handleInputKeyDown = function (event) {\n      // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n\n      /* eslint-disable deprecation/deprecation */\n      var _a = event.currentTarget,\n          selectionEnd = _a.selectionEnd,\n          value = _a.value;\n      var activeIndex = _this.state.activeIndex;\n      var activeIndexToEmit = activeIndex;\n\n      if (event.which === Keys.ENTER && value.length > 0) {\n        _this.addTags(value, \"default\");\n      } else if (selectionEnd === 0 && _this.props.values.length > 0) {\n        // cursor at beginning of input allows interaction with tags.\n        // use selectionEnd to verify cursor position and no text selection.\n        if (event.which === Keys.ARROW_LEFT || event.which === Keys.ARROW_RIGHT) {\n          var nextActiveIndex = _this.getNextActiveIndex(event.which === Keys.ARROW_RIGHT ? 1 : -1);\n\n          if (nextActiveIndex !== activeIndex) {\n            event.stopPropagation();\n            activeIndexToEmit = nextActiveIndex;\n\n            _this.setState({\n              activeIndex: nextActiveIndex\n            });\n          }\n        } else if (event.which === Keys.BACKSPACE) {\n          _this.handleBackspaceToRemove(event);\n        } else if (event.which === Keys.DELETE) {\n          _this.handleDeleteToRemove(event);\n        }\n      }\n\n      _this.invokeKeyPressCallback(\"onKeyDown\", event, activeIndexToEmit);\n    };\n\n    _this.handleInputKeyUp = function (event) {\n      _this.invokeKeyPressCallback(\"onKeyUp\", event, _this.state.activeIndex);\n    };\n\n    _this.handleInputPaste = function (event) {\n      var separator = _this.props.separator;\n      var value = event.clipboardData.getData(\"text\");\n\n      if (!_this.props.addOnPaste || value.length === 0) {\n        return;\n      } // special case as a UX nicety: if the user pasted only one value with no delimiters in it, leave that value in\n      // the input field so that the user can refine it before converting it to a tag manually.\n\n\n      if (separator === false || value.split(separator).length === 1) {\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.addTags(value, \"paste\");\n    };\n\n    _this.handleRemoveTag = function (event) {\n      // using data attribute to simplify callback logic -- one handler for all children\n      var index = +event.currentTarget.parentElement.getAttribute(\"data-tag-index\");\n\n      _this.removeIndexFromValues(index);\n    };\n\n    return _this;\n  }\n\n  TagInput.getDerivedStateFromProps = function (props, state) {\n    if (props.inputValue !== state.prevInputValueProp) {\n      return {\n        inputValue: props.inputValue,\n        prevInputValueProp: props.inputValue\n      };\n    }\n\n    return null;\n  };\n\n  TagInput.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        className = _b.className,\n        disabled = _b.disabled,\n        fill = _b.fill,\n        inputProps = _b.inputProps,\n        intent = _b.intent,\n        large = _b.large,\n        leftIcon = _b.leftIcon,\n        placeholder = _b.placeholder,\n        values = _b.values;\n    var classes = classNames(Classes.INPUT, Classes.TAG_INPUT, (_a = {}, _a[Classes.ACTIVE] = this.state.isInputFocused, _a[Classes.DISABLED] = disabled, _a[Classes.FILL] = fill, _a[Classes.LARGE] = large, _a), Classes.intentClass(intent), className);\n    var isLarge = classes.indexOf(Classes.LARGE) > NONE; // use placeholder prop only if it's defined and values list is empty or contains only falsy values\n\n    var isSomeValueDefined = values.some(function (val) {\n      return !!val;\n    });\n    var resolvedPlaceholder = placeholder == null || isSomeValueDefined ? inputProps === null || inputProps === void 0 ? void 0 : inputProps.placeholder : placeholder;\n    return React.createElement(\"div\", {\n      className: classes,\n      onBlur: this.handleContainerBlur,\n      onClick: this.handleContainerClick\n    }, React.createElement(Icon, {\n      className: Classes.TAG_INPUT_ICON,\n      icon: leftIcon,\n      size: isLarge ? IconSize.LARGE : IconSize.STANDARD\n    }), React.createElement(\"div\", {\n      className: Classes.TAG_INPUT_VALUES\n    }, values.map(this.maybeRenderTag), this.props.children, React.createElement(\"input\", __assign({\n      value: this.state.inputValue\n    }, inputProps, {\n      onFocus: this.handleInputFocus,\n      onChange: this.handleInputChange,\n      onKeyDown: this.handleInputKeyDown,\n      onKeyUp: this.handleInputKeyUp,\n      onPaste: this.handleInputPaste,\n      placeholder: resolvedPlaceholder,\n      ref: this.handleRef,\n      className: classNames(Classes.INPUT_GHOST, inputProps === null || inputProps === void 0 ? void 0 : inputProps.className),\n      disabled: disabled\n    }))), this.props.rightElement);\n  };\n\n  TagInput.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.inputRef !== this.props.inputRef) {\n      setRef(prevProps.inputRef, null);\n      this.handleRef = refHandler(this, \"inputElement\", this.props.inputRef);\n      setRef(this.props.inputRef, this.inputElement);\n    }\n  };\n\n  TagInput.prototype.getNextActiveIndex = function (direction) {\n    var activeIndex = this.state.activeIndex;\n\n    if (activeIndex === NONE) {\n      // nothing active & moving left: select last defined value. otherwise select nothing.\n      return direction < 0 ? this.findNextIndex(this.props.values.length, -1) : NONE;\n    } else {\n      // otherwise, move in direction and clamp to bounds.\n      // note that upper bound allows going one beyond last item\n      // so focus can move off the right end, into the text input.\n      return this.findNextIndex(activeIndex, direction);\n    }\n  };\n\n  TagInput.prototype.findNextIndex = function (startIndex, direction) {\n    var values = this.props.values;\n    var index = startIndex + direction;\n\n    while (index > 0 && index < values.length && !values[index]) {\n      index += direction;\n    }\n\n    return Utils.clamp(index, 0, values.length);\n  };\n  /**\n   * Splits inputValue on separator prop,\n   * trims whitespace from each new value,\n   * and ignores empty values.\n   */\n\n\n  TagInput.prototype.getValues = function (inputValue) {\n    var separator = this.props.separator; // NOTE: split() typings define two overrides for string and RegExp.\n    // this does not play well with our union prop type, so we'll just declare it as a valid type.\n\n    return (separator === false ? [inputValue] : inputValue.split(separator)).map(function (val) {\n      return val.trim();\n    }).filter(function (val) {\n      return val.length > 0;\n    });\n  };\n\n  TagInput.prototype.handleBackspaceToRemove = function (event) {\n    var previousActiveIndex = this.state.activeIndex; // always move leftward one item (this will focus last item if nothing is focused)\n\n    this.setState({\n      activeIndex: this.getNextActiveIndex(-1)\n    }); // delete item if there was a previous valid selection (ignore first backspace to focus last item)\n\n    if (this.isValidIndex(previousActiveIndex)) {\n      event.stopPropagation();\n      this.removeIndexFromValues(previousActiveIndex);\n    }\n  };\n\n  TagInput.prototype.handleDeleteToRemove = function (event) {\n    var activeIndex = this.state.activeIndex;\n\n    if (this.isValidIndex(activeIndex)) {\n      event.stopPropagation();\n      this.removeIndexFromValues(activeIndex);\n    }\n  };\n  /** Remove the item at the given index by invoking `onRemove` and `onChange` accordingly. */\n\n\n  TagInput.prototype.removeIndexFromValues = function (index) {\n    var _a = this.props,\n        onChange = _a.onChange,\n        onRemove = _a.onRemove,\n        values = _a.values;\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(values[index], index);\n    onChange === null || onChange === void 0 ? void 0 : onChange(values.filter(function (_, i) {\n      return i !== index;\n    }));\n  };\n\n  TagInput.prototype.invokeKeyPressCallback = function (propCallbackName, event, activeIndex) {\n    var _a, _b, _c, _d;\n\n    (_b = (_a = this.props)[propCallbackName]) === null || _b === void 0 ? void 0 : _b.call(_a, event, activeIndex === NONE ? undefined : activeIndex);\n    (_d = (_c = this.props.inputProps)[propCallbackName]) === null || _d === void 0 ? void 0 : _d.call(_c, event);\n  };\n  /** Returns whether the given index represents a valid item in `this.props.values`. */\n\n\n  TagInput.prototype.isValidIndex = function (index) {\n    return index !== NONE && index < this.props.values.length;\n  };\n\n  TagInput.displayName = \"\".concat(DISPLAYNAME_PREFIX, \".TagInput\");\n  TagInput.defaultProps = {\n    addOnBlur: false,\n    addOnPaste: true,\n    inputProps: {},\n    separator: /[,\\n\\r]/,\n    tagProps: {}\n  };\n  return TagInput;\n}(AbstractPureComponent2);\n\nexport { TagInput };","map":{"version":3,"mappings":"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","names":["classNames","React","AbstractPureComponent2","Classes","Keys","refHandler","setRef","Utils","DISPLAYNAME_PREFIX","Icon","IconSize","Tag","NONE","__extends","_this","activeIndex","inputValue","props","isInputFocused","inputRef","value","method","onAdd","onChange","values","newValues","getValues","shouldClearInput","undefined","isFunction","setState","tag","index","large","tagProps","__assign","active","state","key","onRemove","disabled","handleRemoveTag","inputElement","_a","focus","currentTarget","requestAnimationFrame","contains","document","activeElement","addOnBlur","length","addTags","event","inputProps","onFocus","_b","onInputChange","_c","_d","selectionEnd","activeIndexToEmit","which","ENTER","ARROW_LEFT","ARROW_RIGHT","nextActiveIndex","getNextActiveIndex","stopPropagation","BACKSPACE","handleBackspaceToRemove","DELETE","handleDeleteToRemove","invokeKeyPressCallback","separator","clipboardData","getData","addOnPaste","split","preventDefault","parentElement","getAttribute","removeIndexFromValues","TagInput","prevInputValueProp","className","fill","intent","leftIcon","placeholder","classes","INPUT","TAG_INPUT","ACTIVE","DISABLED","FILL","LARGE","intentClass","isLarge","indexOf","isSomeValueDefined","some","val","resolvedPlaceholder","onBlur","handleContainerBlur","onClick","handleContainerClick","TAG_INPUT_ICON","icon","size","STANDARD","TAG_INPUT_VALUES","map","maybeRenderTag","children","handleInputFocus","handleInputChange","onKeyDown","handleInputKeyDown","onKeyUp","handleInputKeyUp","onPaste","handleInputPaste","ref","handleRef","INPUT_GHOST","rightElement","prevProps","direction","findNextIndex","startIndex","clamp","trim","filter","previousActiveIndex","isValidIndex","_","i","propCallbackName"],"sourceRoot":"","sources":["../../../../src/components/tag-input/tagInput.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}