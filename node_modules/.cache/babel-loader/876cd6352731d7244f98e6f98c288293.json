{"ast":null,"code":"/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { AbstractPureComponent2, Classes, Keys } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { isFunction } from \"../../common/utils\";\nimport { Portal } from \"../portal/portal\";\n\nvar Overlay =\n/** @class */\nfunction (_super) {\n  __extends(Overlay, _super);\n\n  function Overlay() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.isAutoFocusing = false;\n    _this.state = {\n      hasEverOpened: _this.props.isOpen\n    }; // an HTMLElement that contains the backdrop and any children, to query for focus target\n\n    _this.containerElement = null; // An empty, keyboard-focusable div at the beginning of the Overlay content\n\n    _this.startFocusTrapElement = null; // An empty, keyboard-focusable div at the end of the Overlay content\n\n    _this.endFocusTrapElement = null;\n    _this.refHandlers = {\n      // HACKHACK: see https://github.com/palantir/blueprint/issues/3979\n\n      /* eslint-disable-next-line react/no-find-dom-node */\n      container: function (ref) {\n        return _this.containerElement = findDOMNode(ref);\n      },\n      endFocusTrap: function (ref) {\n        return _this.endFocusTrapElement = ref;\n      },\n      startFocusTrap: function (ref) {\n        return _this.startFocusTrapElement = ref;\n      }\n    };\n\n    _this.maybeRenderChild = function (child) {\n      if (isFunction(child)) {\n        child = child();\n      }\n\n      if (child == null) {\n        return null;\n      } // add a special class to each child element that will automatically set the appropriate\n      // CSS position mode under the hood.\n\n\n      var decoratedChild = typeof child === \"object\" ? React.cloneElement(child, {\n        className: classNames(child.props.className, Classes.OVERLAY_CONTENT)\n      }) : React.createElement(\"span\", {\n        className: Classes.OVERLAY_CONTENT\n      }, child);\n      var _a = _this.props,\n          onOpening = _a.onOpening,\n          onOpened = _a.onOpened,\n          onClosing = _a.onClosing,\n          transitionDuration = _a.transitionDuration,\n          transitionName = _a.transitionName;\n      return React.createElement(CSSTransition, {\n        classNames: transitionName,\n        onEntering: onOpening,\n        onEntered: onOpened,\n        onExiting: onClosing,\n        onExited: _this.handleTransitionExited,\n        timeout: transitionDuration,\n        addEndListener: _this.handleTransitionAddEnd\n      }, decoratedChild);\n    };\n    /**\n     * Ensures repeatedly pressing shift+tab keeps focus inside the Overlay. Moves focus to\n     * the `endFocusTrapElement` or the first keyboard-focusable element in the Overlay (excluding\n     * the `startFocusTrapElement`), depending on whether the element losing focus is inside the\n     * Overlay.\n     */\n\n\n    _this.handleStartFocusTrapElementFocus = function (e) {\n      var _a;\n\n      if (!_this.props.enforceFocus || _this.isAutoFocusing) {\n        return;\n      } // e.relatedTarget will not be defined if this was a programmatic focus event, as is the\n      // case when we call this.bringFocusInsideOverlay() after a user clicked on the backdrop.\n      // Otherwise, we're handling a user interaction, and we should wrap around to the last\n      // element in this transition group.\n\n\n      if (e.relatedTarget != null && _this.containerElement.contains(e.relatedTarget) && e.relatedTarget !== _this.endFocusTrapElement) {\n        (_a = _this.endFocusTrapElement) === null || _a === void 0 ? void 0 : _a.focus({\n          preventScroll: true\n        });\n      }\n    };\n    /**\n     * Wrap around to the end of the dialog if `enforceFocus` is enabled.\n     */\n\n\n    _this.handleStartFocusTrapElementKeyDown = function (e) {\n      var _a;\n\n      if (!_this.props.enforceFocus) {\n        return;\n      } // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n\n      /* eslint-disable-next-line deprecation/deprecation */\n\n\n      if (e.shiftKey && e.which === Keys.TAB) {\n        var lastFocusableElement = _this.getKeyboardFocusableElements().pop();\n\n        if (lastFocusableElement != null) {\n          lastFocusableElement.focus();\n        } else {\n          (_a = _this.endFocusTrapElement) === null || _a === void 0 ? void 0 : _a.focus({\n            preventScroll: true\n          });\n        }\n      }\n    };\n    /**\n     * Ensures repeatedly pressing tab keeps focus inside the Overlay. Moves focus to the\n     * `startFocusTrapElement` or the last keyboard-focusable element in the Overlay (excluding the\n     * `startFocusTrapElement`), depending on whether the element losing focus is inside the\n     * Overlay.\n     */\n\n\n    _this.handleEndFocusTrapElementFocus = function (e) {\n      var _a, _b; // No need for this.props.enforceFocus check here because this element is only rendered\n      // when that prop is true.\n      // During user interactions, e.relatedTarget will be defined, and we should wrap around to the\n      // \"start focus trap\" element.\n      // Otherwise, we're handling a programmatic focus event, which can only happen after a user\n      // presses shift+tab from the first focusable element in the overlay.\n\n\n      if (e.relatedTarget != null && _this.containerElement.contains(e.relatedTarget) && e.relatedTarget !== _this.startFocusTrapElement) {\n        var firstFocusableElement = _this.getKeyboardFocusableElements().shift(); // ensure we don't re-focus an already active element by comparing against e.relatedTarget\n\n\n        if (!_this.isAutoFocusing && firstFocusableElement != null && firstFocusableElement !== e.relatedTarget) {\n          firstFocusableElement.focus();\n        } else {\n          (_a = _this.startFocusTrapElement) === null || _a === void 0 ? void 0 : _a.focus({\n            preventScroll: true\n          });\n        }\n      } else {\n        var lastFocusableElement = _this.getKeyboardFocusableElements().pop();\n\n        if (lastFocusableElement != null) {\n          lastFocusableElement.focus();\n        } else {\n          // Keeps focus within Overlay even if there are no keyboard-focusable children\n          (_b = _this.startFocusTrapElement) === null || _b === void 0 ? void 0 : _b.focus({\n            preventScroll: true\n          });\n        }\n      }\n    };\n\n    _this.handleTransitionExited = function (node) {\n      var _a, _b;\n\n      if (_this.props.shouldReturnFocusOnClose && _this.lastActiveElementBeforeOpened instanceof HTMLElement) {\n        _this.lastActiveElementBeforeOpened.focus();\n      }\n\n      (_b = (_a = _this.props).onClosed) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n    };\n\n    _this.handleBackdropMouseDown = function (e) {\n      var _a;\n\n      var _b = _this.props,\n          backdropProps = _b.backdropProps,\n          canOutsideClickClose = _b.canOutsideClickClose,\n          enforceFocus = _b.enforceFocus,\n          onClose = _b.onClose;\n\n      if (canOutsideClickClose) {\n        onClose === null || onClose === void 0 ? void 0 : onClose(e);\n      }\n\n      if (enforceFocus) {\n        _this.bringFocusInsideOverlay();\n      }\n\n      (_a = backdropProps === null || backdropProps === void 0 ? void 0 : backdropProps.onMouseDown) === null || _a === void 0 ? void 0 : _a.call(backdropProps, e);\n    };\n\n    _this.handleDocumentClick = function (e) {\n      var _a = _this.props,\n          canOutsideClickClose = _a.canOutsideClickClose,\n          isOpen = _a.isOpen,\n          onClose = _a.onClose; // get the actual target even in the Shadow DOM\n\n      var eventTarget = e.composed ? e.composedPath()[0] : e.target;\n      var stackIndex = Overlay.openStack.indexOf(_this);\n      var isClickInThisOverlayOrDescendant = Overlay.openStack.slice(stackIndex).some(function (_a) {\n        var elem = _a.containerElement; // `elem` is the container of backdrop & content, so clicking on that container\n        // should not count as being \"inside\" the overlay.\n\n        return elem && elem.contains(eventTarget) && !elem.isSameNode(eventTarget);\n      });\n\n      if (isOpen && !isClickInThisOverlayOrDescendant && canOutsideClickClose) {\n        // casting to any because this is a native event\n        onClose === null || onClose === void 0 ? void 0 : onClose(e);\n      }\n    };\n    /**\n     * When multiple Overlays are open, this event handler is only active for the most recently\n     * opened one to avoid Overlays competing with each other for focus.\n     */\n\n\n    _this.handleDocumentFocus = function (e) {\n      // get the actual target even in the Shadow DOM\n      var eventTarget = e.composed ? e.composedPath()[0] : e.target;\n\n      if (_this.props.enforceFocus && _this.containerElement != null && eventTarget instanceof Node && !_this.containerElement.contains(eventTarget)) {\n        // prevent default focus behavior (sometimes auto-scrolls the page)\n        e.preventDefault();\n        e.stopImmediatePropagation();\n\n        _this.bringFocusInsideOverlay();\n      }\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _a = _this.props,\n          canEscapeKeyClose = _a.canEscapeKeyClose,\n          onClose = _a.onClose; // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n\n      /* eslint-disable-next-line deprecation/deprecation */\n\n      if (e.which === Keys.ESCAPE && canEscapeKeyClose) {\n        onClose === null || onClose === void 0 ? void 0 : onClose(e); // prevent browser-specific escape key behavior (Safari exits fullscreen)\n\n        e.preventDefault();\n      }\n    };\n\n    _this.handleTransitionAddEnd = function () {// no-op\n    };\n\n    return _this;\n  }\n\n  Overlay.getDerivedStateFromProps = function (_a) {\n    var hasEverOpened = _a.isOpen;\n\n    if (hasEverOpened) {\n      return {\n        hasEverOpened: hasEverOpened\n      };\n    }\n\n    return null;\n  };\n\n  Overlay.prototype.render = function () {\n    var _a;\n\n    var _b; // oh snap! no reason to render anything at all if we're being truly lazy\n\n\n    if (this.props.lazy && !this.state.hasEverOpened) {\n      return null;\n    }\n\n    var _c = this.props,\n        autoFocus = _c.autoFocus,\n        children = _c.children,\n        className = _c.className,\n        enforceFocus = _c.enforceFocus,\n        usePortal = _c.usePortal,\n        isOpen = _c.isOpen; // TransitionGroup types require single array of children; does not support nested arrays.\n    // So we must collapse backdrop and children into one array, and every item must be wrapped in a\n    // Transition element (no ReactText allowed).\n\n    var childrenWithTransitions = isOpen ? (_b = React.Children.map(children, this.maybeRenderChild)) !== null && _b !== void 0 ? _b : [] : [];\n    var maybeBackdrop = this.maybeRenderBackdrop();\n\n    if (maybeBackdrop !== null) {\n      childrenWithTransitions.unshift(maybeBackdrop);\n    }\n\n    if (isOpen && (autoFocus || enforceFocus) && childrenWithTransitions.length > 0) {\n      childrenWithTransitions.unshift(this.renderDummyElement(\"__start\", {\n        className: Classes.OVERLAY_START_FOCUS_TRAP,\n        onFocus: this.handleStartFocusTrapElementFocus,\n        onKeyDown: this.handleStartFocusTrapElementKeyDown,\n        ref: this.refHandlers.startFocusTrap\n      }));\n\n      if (enforceFocus) {\n        childrenWithTransitions.push(this.renderDummyElement(\"__end\", {\n          className: Classes.OVERLAY_END_FOCUS_TRAP,\n          onFocus: this.handleEndFocusTrapElementFocus,\n          ref: this.refHandlers.endFocusTrap\n        }));\n      }\n    }\n\n    var containerClasses = classNames(Classes.OVERLAY, (_a = {}, _a[Classes.OVERLAY_OPEN] = isOpen, _a[Classes.OVERLAY_INLINE] = !usePortal, _a), className);\n    var transitionGroup = React.createElement(TransitionGroup, {\n      appear: true,\n      \"aria-live\": \"polite\",\n      className: containerClasses,\n      component: \"div\",\n      onKeyDown: this.handleKeyDown,\n      ref: this.refHandlers.container\n    }, childrenWithTransitions);\n\n    if (usePortal) {\n      return React.createElement(Portal, {\n        className: this.props.portalClassName,\n        container: this.props.portalContainer\n      }, transitionGroup);\n    } else {\n      return transitionGroup;\n    }\n  };\n\n  Overlay.prototype.componentDidMount = function () {\n    if (this.props.isOpen) {\n      this.overlayWillOpen();\n    }\n  };\n\n  Overlay.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.isOpen && !this.props.isOpen) {\n      this.overlayWillClose();\n    } else if (!prevProps.isOpen && this.props.isOpen) {\n      this.overlayWillOpen();\n    }\n  };\n\n  Overlay.prototype.componentWillUnmount = function () {\n    this.overlayWillClose();\n  };\n  /**\n   * @public for testing\n   * @internal\n   */\n\n\n  Overlay.prototype.bringFocusInsideOverlay = function () {\n    var _this = this; // always delay focus manipulation to just before repaint to prevent scroll jumping\n\n\n    return this.requestAnimationFrame(function () {\n      var _a; // container ref may be undefined between component mounting and Portal rendering\n      // activeElement may be undefined in some rare cases in IE\n\n\n      if (_this.containerElement == null || document.activeElement == null || !_this.props.isOpen) {\n        return;\n      }\n\n      var isFocusOutsideModal = !_this.containerElement.contains(document.activeElement);\n\n      if (isFocusOutsideModal) {\n        (_a = _this.startFocusTrapElement) === null || _a === void 0 ? void 0 : _a.focus({\n          preventScroll: true\n        });\n        _this.isAutoFocusing = false;\n      }\n    });\n  };\n\n  Overlay.prototype.maybeRenderBackdrop = function () {\n    var _a = this.props,\n        backdropClassName = _a.backdropClassName,\n        backdropProps = _a.backdropProps,\n        hasBackdrop = _a.hasBackdrop,\n        isOpen = _a.isOpen,\n        transitionDuration = _a.transitionDuration,\n        transitionName = _a.transitionName;\n\n    if (hasBackdrop && isOpen) {\n      return React.createElement(CSSTransition, {\n        classNames: transitionName,\n        key: \"__backdrop\",\n        timeout: transitionDuration,\n        addEndListener: this.handleTransitionAddEnd\n      }, React.createElement(\"div\", __assign({}, backdropProps, {\n        className: classNames(Classes.OVERLAY_BACKDROP, backdropClassName, backdropProps === null || backdropProps === void 0 ? void 0 : backdropProps.className),\n        onMouseDown: this.handleBackdropMouseDown\n      })));\n    } else {\n      return null;\n    }\n  };\n\n  Overlay.prototype.renderDummyElement = function (key, props) {\n    var _a = this.props,\n        transitionDuration = _a.transitionDuration,\n        transitionName = _a.transitionName;\n    return React.createElement(CSSTransition, {\n      classNames: transitionName,\n      key: key,\n      addEndListener: this.handleTransitionAddEnd,\n      timeout: transitionDuration,\n      unmountOnExit: true\n    }, React.createElement(\"div\", __assign({\n      tabIndex: 0\n    }, props)));\n  };\n\n  Overlay.prototype.getKeyboardFocusableElements = function () {\n    var focusableElements = this.containerElement !== null ? Array.from( // Order may not be correct if children elements use tabindex values > 0.\n    // Selectors derived from this SO question:\n    // https://stackoverflow.com/questions/1599660/which-html-elements-can-receive-focus\n    this.containerElement.querySelectorAll(['a[href]:not([tabindex=\"-1\"])', 'button:not([disabled]):not([tabindex=\"-1\"])', 'details:not([tabindex=\"-1\"])', 'input:not([disabled]):not([tabindex=\"-1\"])', 'select:not([disabled]):not([tabindex=\"-1\"])', 'textarea:not([disabled]):not([tabindex=\"-1\"])', '[tabindex]:not([tabindex=\"-1\"])'].join(\",\"))) : [];\n    return focusableElements.filter(function (el) {\n      return !el.classList.contains(Classes.OVERLAY_START_FOCUS_TRAP) && !el.classList.contains(Classes.OVERLAY_END_FOCUS_TRAP);\n    });\n  };\n\n  Overlay.prototype.overlayWillClose = function () {\n    document.removeEventListener(\"focus\", this.handleDocumentFocus,\n    /* useCapture */\n    true);\n    document.removeEventListener(\"mousedown\", this.handleDocumentClick);\n    var openStack = Overlay.openStack;\n    var stackIndex = openStack.indexOf(this);\n\n    if (stackIndex !== -1) {\n      openStack.splice(stackIndex, 1);\n\n      if (openStack.length > 0) {\n        var lastOpenedOverlay = Overlay.getLastOpened(); // Only bring focus back to last overlay if it had autoFocus _and_ enforceFocus enabled.\n        // If `autoFocus={false}`, it's likely that the overlay never received focus in the first place,\n        // so it would be surprising for us to send it there. See https://github.com/palantir/blueprint/issues/4921\n\n        if (lastOpenedOverlay.props.autoFocus && lastOpenedOverlay.props.enforceFocus) {\n          lastOpenedOverlay.bringFocusInsideOverlay();\n          document.addEventListener(\"focus\", lastOpenedOverlay.handleDocumentFocus,\n          /* useCapture */\n          true);\n        }\n      }\n\n      if (openStack.filter(function (o) {\n        return o.props.usePortal && o.props.hasBackdrop;\n      }).length === 0) {\n        document.body.classList.remove(Classes.OVERLAY_OPEN);\n      }\n    }\n  };\n\n  Overlay.prototype.overlayWillOpen = function () {\n    var getLastOpened = Overlay.getLastOpened,\n        openStack = Overlay.openStack;\n\n    if (openStack.length > 0) {\n      document.removeEventListener(\"focus\", getLastOpened().handleDocumentFocus,\n      /* useCapture */\n      true);\n    }\n\n    openStack.push(this);\n\n    if (this.props.autoFocus) {\n      this.isAutoFocusing = true;\n      this.bringFocusInsideOverlay();\n    }\n\n    if (this.props.enforceFocus) {\n      // Focus events do not bubble, but setting useCapture allows us to listen in and execute\n      // our handler before all others\n      document.addEventListener(\"focus\", this.handleDocumentFocus,\n      /* useCapture */\n      true);\n    }\n\n    if (this.props.canOutsideClickClose && !this.props.hasBackdrop) {\n      document.addEventListener(\"mousedown\", this.handleDocumentClick);\n    }\n\n    if (this.props.hasBackdrop && this.props.usePortal) {\n      // add a class to the body to prevent scrolling of content below the overlay\n      document.body.classList.add(Classes.OVERLAY_OPEN);\n    }\n\n    this.lastActiveElementBeforeOpened = document.activeElement;\n  };\n\n  Overlay.displayName = \"\".concat(DISPLAYNAME_PREFIX, \".Overlay\");\n  Overlay.defaultProps = {\n    autoFocus: true,\n    backdropProps: {},\n    canEscapeKeyClose: true,\n    canOutsideClickClose: true,\n    enforceFocus: true,\n    hasBackdrop: true,\n    isOpen: false,\n    lazy: true,\n    shouldReturnFocusOnClose: true,\n    transitionDuration: 300,\n    transitionName: Classes.OVERLAY,\n    usePortal: true\n  };\n  Overlay.openStack = [];\n\n  Overlay.getLastOpened = function () {\n    return Overlay.openStack[Overlay.openStack.length - 1];\n  };\n\n  return Overlay;\n}(AbstractPureComponent2);\n\nexport { Overlay };","map":{"version":3,"mappings":"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","names":["classNames","React","findDOMNode","CSSTransition","TransitionGroup","AbstractPureComponent2","Classes","Keys","DISPLAYNAME_PREFIX","isFunction","Portal","__extends","_this","hasEverOpened","props","isOpen","container","ref","containerElement","endFocusTrap","endFocusTrapElement","startFocusTrap","startFocusTrapElement","child","decoratedChild","cloneElement","className","OVERLAY_CONTENT","onOpening","onOpened","onClosing","transitionDuration","transitionName","onEntering","onEntered","onExiting","onExited","handleTransitionExited","timeout","addEndListener","handleTransitionAddEnd","e","enforceFocus","isAutoFocusing","relatedTarget","contains","_a","focus","preventScroll","shiftKey","which","TAB","lastFocusableElement","getKeyboardFocusableElements","pop","firstFocusableElement","shift","_b","node","shouldReturnFocusOnClose","lastActiveElementBeforeOpened","HTMLElement","onClosed","backdropProps","canOutsideClickClose","onClose","bringFocusInsideOverlay","onMouseDown","eventTarget","composed","composedPath","target","stackIndex","Overlay","openStack","indexOf","isClickInThisOverlayOrDescendant","slice","some","elem","isSameNode","Node","preventDefault","stopImmediatePropagation","canEscapeKeyClose","ESCAPE","lazy","state","autoFocus","children","usePortal","childrenWithTransitions","Children","map","maybeRenderChild","maybeBackdrop","maybeRenderBackdrop","unshift","length","renderDummyElement","OVERLAY_START_FOCUS_TRAP","onFocus","handleStartFocusTrapElementFocus","onKeyDown","handleStartFocusTrapElementKeyDown","refHandlers","push","OVERLAY_END_FOCUS_TRAP","handleEndFocusTrapElementFocus","containerClasses","OVERLAY","OVERLAY_OPEN","OVERLAY_INLINE","transitionGroup","appear","component","handleKeyDown","portalClassName","portalContainer","overlayWillOpen","prevProps","overlayWillClose","requestAnimationFrame","document","activeElement","isFocusOutsideModal","backdropClassName","hasBackdrop","key","OVERLAY_BACKDROP","handleBackdropMouseDown","unmountOnExit","tabIndex","focusableElements","Array","from","querySelectorAll","join","filter","el","classList","removeEventListener","handleDocumentFocus","handleDocumentClick","splice","lastOpenedOverlay","getLastOpened","addEventListener","o","body","remove","add"],"sourceRoot":"","sources":["../../../../src/components/overlay/overlay.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}