{"ast":null,"code":"/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Classes, Position } from \"../../common\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Icon } from \"../icon/icon\";\nimport { Popover, PopoverInteractionKind } from \"../popover/popover\";\nimport { Text } from \"../text/text\";\nimport { Menu } from \"./menu\";\n\nvar MenuItem =\n/** @class */\nfunction (_super) {\n  __extends(MenuItem, _super);\n\n  function MenuItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuItem.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        // eslint-disable-next-line deprecation/deprecation\n    active = _c.active,\n        className = _c.className,\n        children = _c.children,\n        disabled = _c.disabled,\n        icon = _c.icon,\n        intent = _c.intent,\n        labelClassName = _c.labelClassName,\n        labelElement = _c.labelElement,\n        multiline = _c.multiline,\n        popoverProps = _c.popoverProps,\n        selected = _c.selected,\n        shouldDismissPopover = _c.shouldDismissPopover,\n        text = _c.text,\n        textClassName = _c.textClassName,\n        _d = _c.tagName,\n        tagName = _d === void 0 ? \"a\" : _d,\n        htmlTitle = _c.htmlTitle,\n        htmlProps = __rest(_c, [\"active\", \"className\", \"children\", \"disabled\", \"icon\", \"intent\", \"labelClassName\", \"labelElement\", \"multiline\", \"popoverProps\", \"selected\", \"shouldDismissPopover\", \"text\", \"textClassName\", \"tagName\", \"htmlTitle\"]);\n\n    var hasIcon = icon != null;\n    var hasSubmenu = children != null;\n    var intentClass = Classes.intentClass(intent);\n    var anchorClasses = classNames(Classes.MENU_ITEM, intentClass, (_a = {}, _a[Classes.ACTIVE] = active, _a[Classes.DISABLED] = disabled, // prevent popover from closing when clicking on submenu trigger or disabled item\n    _a[Classes.POPOVER_DISMISS] = shouldDismissPopover && !disabled && !hasSubmenu, _a[Classes.SELECTED] = selected || active && intentClass === undefined, _a), className);\n    var target = React.createElement(tagName, __assign(__assign(__assign({\n      tabIndex: 0\n    }, htmlProps), disabled ? DISABLED_PROPS : {}), {\n      className: anchorClasses\n    }), hasIcon ? // wrap icon in a <span> in case `icon` is a custom element rather than a built-in icon identifier,\n    // so that we always render this class\n    React.createElement(\"span\", {\n      className: Classes.MENU_ITEM_ICON\n    }, React.createElement(Icon, {\n      icon: icon,\n      \"aria-hidden\": true,\n      tabIndex: -1\n    })) : undefined, React.createElement(Text, {\n      className: classNames(Classes.FILL, textClassName),\n      ellipsize: !multiline,\n      title: htmlTitle\n    }, text), this.maybeRenderLabel(labelElement), hasSubmenu ? React.createElement(Icon, {\n      className: Classes.MENU_SUBMENU_ICON,\n      title: \"Open sub menu\",\n      icon: \"caret-right\"\n    }) : undefined);\n    var liClasses = classNames((_b = {}, _b[Classes.MENU_SUBMENU] = hasSubmenu, _b));\n    return React.createElement(\"li\", {\n      className: liClasses\n    }, this.maybeRenderPopover(target, children));\n  };\n\n  MenuItem.prototype.maybeRenderLabel = function (labelElement) {\n    var _a = this.props,\n        label = _a.label,\n        labelClassName = _a.labelClassName;\n\n    if (label == null && labelElement == null) {\n      return null;\n    }\n\n    return React.createElement(\"span\", {\n      className: classNames(Classes.MENU_ITEM_LABEL, labelClassName)\n    }, label, labelElement);\n  };\n\n  MenuItem.prototype.maybeRenderPopover = function (target, children) {\n    if (children == null) {\n      return target;\n    }\n\n    var _a = this.props,\n        disabled = _a.disabled,\n        popoverProps = _a.popoverProps;\n    return (\n      /* eslint-disable-next-line deprecation/deprecation */\n      React.createElement(Popover, __assign({\n        autoFocus: false,\n        captureDismiss: false,\n        disabled: disabled,\n        enforceFocus: false,\n        hoverCloseDelay: 0,\n        interactionKind: PopoverInteractionKind.HOVER,\n        modifiers: SUBMENU_POPOVER_MODIFIERS,\n        position: Position.RIGHT_TOP,\n        usePortal: false\n      }, popoverProps, {\n        content: React.createElement(Menu, null, children),\n        minimal: true,\n        popoverClassName: classNames(Classes.MENU_SUBMENU, popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.popoverClassName),\n        target: target\n      }))\n    );\n  };\n\n  MenuItem.defaultProps = {\n    active: false,\n    disabled: false,\n    multiline: false,\n    popoverProps: {},\n    selected: false,\n    shouldDismissPopover: true,\n    text: \"\"\n  };\n  MenuItem.displayName = \"\".concat(DISPLAYNAME_PREFIX, \".MenuItem\");\n  return MenuItem;\n}(AbstractPureComponent2);\n\nexport { MenuItem };\nvar SUBMENU_POPOVER_MODIFIERS = {\n  // 20px padding - scrollbar width + a bit\n  flip: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  },\n  // shift popover up 5px so MenuItems align\n  offset: {\n    offset: -5\n  },\n  preventOverflow: {\n    boundariesElement: \"viewport\",\n    padding: 20\n  }\n}; // props to ignore when disabled\n\nvar DISABLED_PROPS = {\n  href: undefined,\n  onClick: undefined,\n  onMouseDown: undefined,\n  onMouseEnter: undefined,\n  onMouseLeave: undefined,\n  tabIndex: -1\n};","map":{"version":3,"mappings":"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","names":["classNames","React","AbstractPureComponent2","Classes","Position","DISPLAYNAME_PREFIX","Icon","Popover","PopoverInteractionKind","Text","Menu","__extends","MenuItem","_c","props","active","className","children","disabled","icon","intent","labelClassName","labelElement","multiline","popoverProps","selected","shouldDismissPopover","text","textClassName","_d","tagName","htmlTitle","htmlProps","hasIcon","hasSubmenu","intentClass","anchorClasses","MENU_ITEM","_a","ACTIVE","DISABLED","POPOVER_DISMISS","SELECTED","undefined","target","createElement","__assign","tabIndex","DISABLED_PROPS","MENU_ITEM_ICON","FILL","ellipsize","title","maybeRenderLabel","MENU_SUBMENU_ICON","liClasses","_b","MENU_SUBMENU","maybeRenderPopover","label","MENU_ITEM_LABEL","autoFocus","captureDismiss","enforceFocus","hoverCloseDelay","interactionKind","HOVER","modifiers","SUBMENU_POPOVER_MODIFIERS","position","RIGHT_TOP","usePortal","content","minimal","popoverClassName","flip","boundariesElement","padding","offset","preventOverflow","href","onClick","onMouseDown","onMouseEnter","onMouseLeave"],"sourceRoot":"","sources":["../../../../src/components/menu/menuItem.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}